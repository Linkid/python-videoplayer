environment:
  CIBW_ENVIRONMENT_WINDOWS: "VCPKG_BUILD=1 VCPKG_TOOLCHAIN='C:/tools/vcpkg/scripts/buildsystems/vcpkg.cmake'"
  CIBW_BEFORE_BUILD: "pip install cython scikit-build cmake ninja"
  CIBW_BUILD: cp27-win_amd64



cache: c:\tools\vcpkg\installed\
stack: python 3.7

init:
  - cmd: set PATH=C:\Python37;C:\Python37\Scripts;%PATH%
  - cmd: cd c:\tools\vcpkg
  - cmd: git pull
  - cmd: .\bootstrap-vcpkg.bat
  - cmd: vcpkg install glib:x64-windows
                       libogg:x64-windows
                       libtheora:x64-windows
                       ffmpeg:x64-windows
  - cmd: vcpkg integrate install
  - cmd: cd %APPVEYOR_BUILD_FOLDER%
  - python --version

install: python -m pip install cibuildwheel==1.3.0

build_script: python -m cibuildwheel --output-dir wheelhouse

artifacts:
  - path: "wheelhouse\\*.whl"
    name: Wheels
